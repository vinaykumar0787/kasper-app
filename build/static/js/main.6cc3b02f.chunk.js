(this["webpackJsonpkasper-app"]=this["webpackJsonpkasper-app"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(22),a=n.n(c),s=(n(54),n.p,n(55),n(56),n(25)),i=n(26),o=n(18),u=n(9),j=n.n(u);function p(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/kasper/users",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:t})});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Unexpected response: ".concat(n.status," ").concat(n.statusText));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/kasper/users/".concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({name:n})});case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Unexpected response: ".concat(r.status," ").concat(r.statusText));case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/kasper/users/".concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Unexpected response: ".concat(n.status," ").concat(n.statusText));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/kasper/users");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Unexpected response: ".concat(n.status," ").concat(n.statusText));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n(30),v=n(27),w=n(48),y=n(3);function m(e){var t=Object(r.useRef)(null),n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){s(e.user?e.user.name:"")}),[e.user]);var o=Object(r.useCallback)((function(){""!==a&&(e.onHandleSave(a,e.user?e.user.id:0),s(""))}),[e,a]),u=Object(r.useCallback)((function(){e.onHandleClose(),s("")}),[e]);Object(r.useEffect)((function(){t.current&&(t.current.style.height="",t.current.style.height="".concat(t.current.scrollHeight+3,"px"),t.current.focus())}),[]);var j=Object(r.useCallback)((function(e){s(e.target.value)}),[]),p=Object(r.useCallback)((function(e){s(e.target.value)}),[]);return Object(y.jsxs)(v.a,{show:e.showAddUser,onHide:u,children:[Object(y.jsx)(v.a.Header,{closeButton:!0,children:Object(y.jsx)(v.a.Title,{children:"Add User"})}),Object(y.jsxs)(v.a.Body,{children:[Object(y.jsx)(w.a.Control,{value:a,onChange:j,onBlur:p,ref:t}),!a&&Object(y.jsx)("span",{className:"error",children:"Enter a Name"})]}),Object(y.jsxs)(v.a.Footer,{children:[Object(y.jsx)(k.a,{variant:"secondary",onClick:u,children:"Close"}),Object(y.jsx)(k.a,{variant:"primary",onClick:o,children:"Save"})]})]})}var C=n(72),g=n(73),E=n(74),U=n(75);function S(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{style:{width:300,margin:"0 auto"},children:Object(y.jsxs)("table",{children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{width:"180px",children:"Name"}),Object(y.jsx)("th",{width:"120px",children:"Rank"}),Object(y.jsx)("th",{width:"120px",children:"Actions"}),Object(y.jsx)("th",{width:"120px"})]})}),Object(y.jsx)("tbody",{children:e.usersList.map((function(t,n){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.name}),Object(y.jsx)("td",{children:t.userRank}),Object(y.jsxs)("td",{children:[Object(y.jsx)(C.a,{onClick:function(){return function(t,n){e.onEditClick(t,n)}(n,t.id)},children:"\xa0"}),Object(y.jsx)(g.a,{onClick:function(){return n=t.id,void e.onDeleteClick(n);var n}})]}),Object(y.jsxs)("td",{children:[Object(y.jsx)(E.a,{disabled:0===n,onClick:function(){return function(t){var n=Object(s.a)(e.usersList),r=n[t];if(0!==t){n[t]=n[t-1];var c=r.userRank;r.userRank=n[t].userRank,n[t].userRank=c,n[t-1]=r,e.onUpdateUsers(n)}}(n)},children:"&nbsp;&nbsp;"}),Object(y.jsx)(U.a,{onClick:function(){return function(t){var n=Object(s.a)(e.usersList),r=n[t];if(t!==n.length-1){n[t]=n[t+1];var c=r.userRank;r.userRank=n[t].userRank,n[t].userRank=c,n[t+1]=r,e.onUpdateUsers(n)}}(n)}})]})]},n)}))})]})})})}function A(){return(A=Object(o.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:n=e.sent,t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error Getting Users: ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(){return(R=Object(o.a)(j.a.mark((function e(t,n,r,c){var a,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==n){e.next=9;break}return e.next=4,p(t);case 4:a=e.sent,r.push(a),c(r),e.next=15;break;case 9:return e.next=11,d(n,t);case 11:s=e.sent,i=r.findIndex((function(e){return e.id===n})),r[i]=s,c(r);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.warn("Error Saving User: ".concat(e.t0));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function T(){return(T=Object(o.a)(j.a.mark((function e(t,n,r){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,h(t);case 4:c=n.findIndex((function(e){return e.id===t})),n.splice(c,1),r(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn("Error Deleting User: ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function N(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(i.a)(a,2),u=o[0],j=o[1],p=Object(r.useState)(void 0),l=Object(i.a)(p,2),d=l[0],b=l[1];Object(r.useEffect)((function(){!function(e){A.apply(this,arguments)}(j)}),[]);var h=function(){return c(!0)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("br",{}),Object(y.jsx)(k.a,{variant:"primary",onClick:h,children:"Add New User"}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)(S,{usersList:u,onUpdateUsers:function(e){j(e)},onEditClick:function(e){b(void 0);var t=u[e];b(t),h()},onDeleteClick:function(e){!function(e,t,n){T.apply(this,arguments)}(e,Object(s.a)(u),j)}}),Object(y.jsx)(m,{showAddUser:n,onHandleSave:function(e,t){!function(e,t,n,r){R.apply(this,arguments)}(e,t,Object(s.a)(u),j),c(!1)},onHandleClose:function(){return c(!1)},user:d})]})}var H=n(44),B=n(49),L=n(38),D={navBar:{backgroundColor:"#0b92cc"},linkNav:{whiteSpace:"nowrap"}};function F(e){return Object(y.jsxs)(H.a,{style:D.navBar,variant:"dark",children:[Object(y.jsx)(H.a.Brand,{children:" Kasper App"}),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(B.a,{children:Object(y.jsx)(L.b,{exact:!0,to:"/",style:D.linkNav,className:"nav-link",children:"Home"})})})]})}var J=n(7);function I(e){e.user;return Object(y.jsxs)(L.a,{children:[Object(y.jsx)(F,{}),Object(y.jsx)(J.c,{children:Object(y.jsx)(J.a,{exact:!0,path:"/",children:Object(y.jsx)(N,{})})})]})}var P=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(I,{})})};a.a.render(Object(y.jsx)(P,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.6cc3b02f.chunk.js.map